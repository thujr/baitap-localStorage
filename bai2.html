<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÀI THỰC HÀNH 2</title>
    <style>
       
    </style>
</head>
<body>
    <h1>Thông tin người dùng  nhập</h1>
    <form onsubmit="saveUser(event)">
     <label for="">Họ và tên:</label>
    <input type="text" id="name" placeholder="Nhập tên"></br>
    <label for="">Gmail:</label>
    <input type="email" id="gmail" placeholder="Nhập gmail" required ></br>
    <label for="">ID:</label>
    <input type="number" id="ID" required></br>
    <label for="">Mật khẩu:</label>
    <input type="password" id="password" placeholder="Nhập mật khẩu" required></br>
    <label for="">Nhập lại mật khẩu:</label>
    <input type="password" id="confirmPassword" required placeholder="Nhập lại mật khẩu"></br>
    <button type="submit">Đăng kí</button>
    </form>
        <script>
        function saveUser(event) {
            let name=document.getElementById('name').value;
            let gmail=document.getElementById('gmail').value;
            let ID=Math.floor(Math.random()*9999);
            let password=document.getElementById('password').value;
            let confirmPassword=document.getElementById('confirmPassword').value;
            if (password !== confirmPassword) {
                alert('Mật khẩu và mật khẩu xác nhận không trùng khớp');
                return; 
        }
        let users=JSON.parse(localStorage.getItem('users'))||[];
        // kiểm tra xem localStoage có dữ liêu không?
        for (let i = 0; i < users.length; i++) {
                if (users[i].gmail===gmail) {
                     alert('Emali đã tòn tại. vui lòng nhập email khác');
                      return;
                }   
        }
            let user={
                ID:ID,
                name: name,
                gmail: gmail,
                password: password

        };
      users.push(user);
      localStorage.setItem('users',JSON.stringify(users));
    //   lưu dữ liệu lên trên localStorage.
      alert('Đăng kí thành công');
      document.getElementById('name').value = '';
            document.getElementById('gmail').value = '';
            document.getElementById('ID').value = '';
            document.getElementById('password').value = '';
            document.getElementById('confirmPassword').value = '';
      }
    </script>
    
    
</body>
    
</html>